<?xml version='1.0' encoding='utf-8'?>

<!-- RAM description of the Motorola MPC555 Microcontroller  -->
<!DOCTYPE device SYSTEM "../../general/device.dtd">

<device type="RAM" width="4">
	<attributes mode="change" read="add" write="add"></attributes>
	<segment name="InternalFlashAblock0">
		<attributes code="add"></attributes>
		<base>0</base>
		<size>0x2000</size>
		<subsegment name="ExcCode">
			<base>0</base>
		</subsegment>
	</segment>
	<segment name="InternalRAM">
		<base>ToppcKernel.CintRamBase</base>
		<size>ToppcKernel.CintRamSize</size>
		<subsegment name="SysTab">
			<attributes sysconst="add"></attributes>
			<base>ToppcKernel.sysTabAdr</base>
		</subsegment>
		<subsegment name="SegConst">
			<attributes const="add"></attributes>
		</subsegment>
		<subsegment name="SegCode">
			<attributes code="add"></attributes>
		</subsegment>
		<subsegment name="SegVars">
			<attributes var="add"></attributes>
		</subsegment>
		<subsegment name="Stack">
			<attributes stack="add"></attributes>
			<size>ToppcKernel.stackSize</size>
		</subsegment>
	</segment>
	<segment name="ExternalRAM">
		<attributes mode="change"></attributes>
		<base>ToppcKernel.CextRamBase</base>
		<size>ToppcKernel.CextRamSize</size>
		<subsegment name="Heap">
			<attributes heap="add"></attributes>
		</subsegment>
	</segment>
	<init>
		<assignment name="BR0" type="uri">ToppcKernel.pBR0</assignment>
		<assignment name="OR0" type="uri">ToppcKernel.pOR0</assignment>
		<assignment name="BR1" type="uri">ToppcKernel.pBR1</assignment>
		<assignment name="OR1" type="uri">ToppcKernel.pOR1</assignment>
		<assignment name="DMBR" type="uri">
			ToppcKernel.pDMBR
		</assignment>
		<assignment name="DMOR" type="uri">
			ToppcKernel.pDMOR
		</assignment>
		<assignment name="ICTRL" type="value">7</assignment>
		<!-- reset RSR -->
		<assignment name="RSR" type="value">-1</assignment>
		<!-- cause to enter debug mode -->
		<assignment name="DER" type="value">0x31C7400F</assignment>
		<!-- MSR -->
		<assignment name="SRR1" type="value">0x03802</assignment>
	</init>
</device>